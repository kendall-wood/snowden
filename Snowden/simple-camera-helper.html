<!DOCTYPE html>
<html>
<head>
    <title>Simple Camera Coordinate Helper</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #000;
            color: #0f0;
            font-family: monospace;
        }
        img {
            border: 2px solid #0f0;
            cursor: crosshair;
            max-width: 90%;
        }
        #output {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #0f0;
            white-space: pre;
        }
        .camera {
            margin: 10px 0;
            padding: 5px;
            border: 1px solid #0f0;
        }
    </style>
</head>
<body>
    <h1>Click on the map where each camera is located</h1>
    <p>After clicking, enter the direction it's facing (0-359 degrees, 0=Right, 90=Down, 180=Left, 270=Up)</p>
    
    <img id="map" src="assets/lvl-2-map.png" />
    
    <div id="output"></div>
    <button onclick="generateCode()" style="padding: 10px; margin-top: 10px; background: #030; color: #0f0; border: 2px solid #0f0; cursor: pointer;">Generate Code</button>
    
    <script>
        let cameras = [];
        const img = document.getElementById('map');
        const output = document.getElementById('output');
        
        img.onclick = function(e) {
            const rect = img.getBoundingClientRect();
            const scaleX = img.naturalWidth / img.width;
            const scaleY = img.naturalHeight / img.height;
            
            const x = Math.round((e.clientX - rect.left) * scaleX);
            const y = Math.round((e.clientY - rect.top) * scaleY);
            
            const angle = prompt('Enter facing angle in degrees (0=Right, 90=Down, 180=Left, 270=Up):', '0');
            if (angle !== null) {
                const radians = (parseFloat(angle) || 0) * Math.PI / 180;
                cameras.push({x, y, angle: radians});
                updateOutput();
            }
        };
        
        function updateOutput() {
            output.innerHTML = `Cameras placed: ${cameras.length}\n\n`;
            cameras.forEach((cam, i) => {
                const degrees = Math.round(cam.angle * 180 / Math.PI);
                output.innerHTML += `Camera ${i+1}: (${cam.x}, ${cam.y}) facing ${degrees}Â°\n`;
            });
        }
        
        function generateCode() {
            if (cameras.length === 0) {
                alert('Place some cameras first!');
                return;
            }
            
            let code = 'cameras: [\n';
            cameras.forEach((cam, i) => {
                code += `    {x: ${cam.x}, y: ${cam.y}, facingAngle: ${cam.angle.toFixed(4)}}`;
                if (i < cameras.length - 1) code += ',';
                code += `  // Camera ${i+1}\n`;
            });
            code += ']\n';
            
            alert('Code copied to console! Check your browser console (F12)');
            console.log(code);
            output.innerHTML += '\n\n=== COPY THIS CODE ===\n' + code;
        }
    </script>
</body>
</html>

